API TEST REPORT - 2025-04-13T08:11:32.278155
================================================================================

TEST #1: POST /api/auth/register
--------------------------------------------------------------------------------
Timestamp: 2025-04-13T08:11:35.512570
Success: Yes
Status Code: 201

Payload:
{'email': 'test_1744546292@example.com',
 'name': 'Test User',
 'password': 'Test123456!'}

Response:
{'data': {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3ZmJhOWY3NGYxYzg1Mjc3ZjQ1IiwiZW1haWwiOiJ0ZXN0XzE3NDQ1NDYyOTJAZXhhbXBsZS5jb20iLCJpYXQiOjE3NDQ1NDYyOTUsImV4cCI6MTc0NzEzODI5NX0.wAsoN79yEYc0J9e4JGsqc-OhUnKC7kXpB-jitP9IaV4',
          'user': {'email': 'test_1744546292@example.com',
                   'id': '67fba9f74f1c85277f45',
                   'name': 'Test User'}},
 'message': 'User registered successfully',
 'success': True}

================================================================================

TEST #2: POST /api/auth/login
--------------------------------------------------------------------------------
Timestamp: 2025-04-13T08:11:36.140212
Success: Yes
Status Code: 200

Payload:
{'email': 'test_1744546292@example.com', 'password': 'Test123456!'}

Response:
{'data': {'token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3ZmJhOWY3NGYxYzg1Mjc3ZjQ1IiwiZW1haWwiOiJ0ZXN0XzE3NDQ1NDYyOTJAZXhhbXBsZS5jb20iLCJpYXQiOjE3NDQ1NDYyOTYsImV4cCI6MTc0NzEzODI5Nn0.FeYWL01NpBL7bpr_3tE7H6DLSvtLvtTuBsttVisJwm4',
          'user': {'email': 'test_1744546292@example.com',
                   'id': '67fba9f74f1c85277f45',
                   'name': 'Test User'}},
 'message': 'Login successful',
 'success': True}

================================================================================

TEST #3: GET /api/auth/me
--------------------------------------------------------------------------------
Timestamp: 2025-04-13T08:11:36.849692
Success: Yes
Status Code: 200

Response:
{'data': {'user': {'email': 'test_1744546292@example.com',
                   'id': '67fba9f74f1c85277f45',
                   'name': 'Test User'}},
 'message': 'User fetched successfully',
 'success': True}

================================================================================

TEST #4: POST /api/sites
--------------------------------------------------------------------------------
Timestamp: 2025-04-13T08:11:37.671730
Success: Yes
Status Code: 201

Payload:
{'name': 'Portfolio Testing Site',
 'url': 'https://portafolio-six-sigma-45.vercel.app'}

Response:
{'data': {'site': {'createdAt': '2025-04-13T12:11:37.313Z',
                   'id': '67fba9f95cc9823c5537',
                   'name': 'Portfolio Testing Site',
                   'status': 'active',
                   'updatedAt': '2025-04-13T12:11:37.313Z',
                   'url': 'https://portafolio-six-sigma-45.vercel.app',
                   'userId': '67fba9f74f1c85277f45'}},
 'message': 'Site created successfully',
 'success': True}

================================================================================

TEST #5: GET /api/sites
--------------------------------------------------------------------------------
Timestamp: 2025-04-13T08:11:38.244490
Success: Yes
Status Code: 200

Response:
{'data': {'sites': [{'createdAt': '2025-04-13T12:11:37.313Z',
                     'id': '67fba9f95cc9823c5537',
                     'name': 'Portfolio Testing Site',
                     'status': 'active',
                     'updatedAt': '2025-04-13T12:11:37.313Z',
                     'url': 'https://portafolio-six-sigma-45.vercel.app',
                     'userId': '67fba9f74f1c85277f45'}]},
 'message': 'Sites retrieved successfully',
 'success': True}

================================================================================

TEST #6: GET /api/sites/67fba9f95cc9823c5537
--------------------------------------------------------------------------------
Timestamp: 2025-04-13T08:11:39.000027
Success: Yes
Status Code: 200

Response:
{'data': {'site': {'createdAt': '2025-04-13T12:11:37.313Z',
                   'id': '67fba9f95cc9823c5537',
                   'name': 'Portfolio Testing Site',
                   'status': 'active',
                   'updatedAt': '2025-04-13T12:11:37.313Z',
                   'url': 'https://portafolio-six-sigma-45.vercel.app',
                   'userId': '67fba9f74f1c85277f45'}},
 'message': 'Site retrieved successfully',
 'success': True}

================================================================================

TEST #7: PUT /api/sites/67fba9f95cc9823c5537
--------------------------------------------------------------------------------
Timestamp: 2025-04-13T08:11:40.025525
Success: Yes
Status Code: 200

Payload:
{'name': 'Portfolio Testing Site (Updated)',
 'url': 'https://portafolio-six-sigma-45.vercel.app'}

Response:
{'data': {'site': {'createdAt': '2025-04-13T12:11:37.313Z',
                   'id': '67fba9f95cc9823c5537',
                   'name': 'Portfolio Testing Site (Updated)',
                   'status': 'active',
                   'updatedAt': '2025-04-13T12:11:39.819Z',
                   'url': 'https://portafolio-six-sigma-45.vercel.app',
                   'userId': '67fba9f74f1c85277f45'}},
 'message': 'Site updated successfully',
 'success': True}

================================================================================

TEST #8: GET /api/logs
--------------------------------------------------------------------------------
Timestamp: 2025-04-13T08:11:40.734511
Success: Yes
Status Code: 200

Response:
{'data': {'anomalies': [],
          'logs': [{'action': 'update',
                    'createdAt': '2025-04-13T12:11:40.016+00:00',
                    'id': '67fba9fc03c9ed6abaeb',
                    'message': 'Updated site: Portfolio Testing Site (Updated)',
                    'metadata': {'changes': {'name': 'Portfolio Testing Site '
                                                     '(Updated)',
                                             'url': 'https://portafolio-six-sigma-45.vercel.app'},
                                 'siteId': '67fba9f95cc9823c5537'},
                    'type': 'site',
                    'userId': '67fba9f74f1c85277f45'},
                   {'action': 'update',
                    'createdAt': '2025-04-13T12:11:39.639+00:00',
                    'id': '67fba9fb9c0c351ee000',
                    'ip': '148.101.59.104',
                    'message': 'site: update',
                    'metadata': {'method': 'PUT',
                                 'path': '/api/sites/67fba9f95cc9823c5537'},
                    'type': 'site',
                    'userId': '67fba9f74f1c85277f45'},
                   {'action': 'view',
                    'createdAt': '2025-04-13T12:11:38.975+00:00',
                    'id': '67fba9faede5a9f1db79',
                    'message': 'Viewed site: Portfolio Testing Site',
                    'metadata': {'siteId': '67fba9f95cc9823c5537'},
                    'type': 'site',
                    'userId': '67fba9f74f1c85277f45'},
                   {'action': 'view',
                    'createdAt': '2025-04-13T12:11:38.867+00:00',
                    'id': '67fba9fad39440afb794',
                    'ip': '148.101.59.104',
                    'message': 'site: view',
                    'metadata': {'method': 'GET',
                                 'path': '/api/sites/67fba9f95cc9823c5537'},
                    'type': 'site',
                    'userId': '67fba9f74f1c85277f45'},
                   {'action': 'list',
                    'createdAt': '2025-04-13T12:11:38.298+00:00',
                    'id': '67fba9fa48b12a4f8fe6',
                    'message': 'User viewed their sites',
                    'metadata': {},
                    'type': 'site',
                    'userId': '67fba9f74f1c85277f45'},
                   {'action': 'view',
                    'createdAt': '2025-04-13T12:11:38.146+00:00',
                    'id': '67fba9fa23be649cd3e7',
                    'ip': '148.101.59.104',
                    'message': 'site: view',
                    'metadata': {'method': 'GET', 'path': '/api/sites'},
                    'type': 'site',
                    'userId': '67fba9f74f1c85277f45'},
                   {'action': 'create',
                    'createdAt': '2025-04-13T12:11:37.526+00:00',
                    'id': '67fba9f980848d8874c8',
                    'message': 'Created new site: Portfolio Testing Site',
                    'metadata': {'name': 'Portfolio Testing Site',
                                 'siteId': '67fba9f95cc9823c5537',
                                 'url': 'https://portafolio-six-sigma-45.vercel.app'},
                    'type': 'site',
                    'userId': '67fba9f74f1c85277f45'},
                   {'action': 'create',
                    'createdAt': '2025-04-13T12:11:37.376+00:00',
                    'id': '67fba9f95be85e45b964',
                    'ip': '148.101.59.104',
                    'message': 'site: create',
                    'metadata': {'method': 'POST', 'path': '/api/sites'},
                    'type': 'site',
                    'userId': '67fba9f74f1c85277f45'},
                   {'action': 'view',
                    'createdAt': '2025-04-13T12:11:36.900+00:00',
                    'id': '67fba9f8dbd1551b7527',
                    'ip': '148.101.59.104',
                    'message': 'User viewed their profile',
                    'metadata': {},
                    'type': 'auth',
                    'userId': '67fba9f74f1c85277f45'},
                   {'action': 'view',
                    'createdAt': '2025-04-13T12:11:36.746+00:00',
                    'id': '67fba9f8b60ca94e5c39',
                    'ip': '148.101.59.104',
                    'message': 'auth: view',
                    'metadata': {'method': 'GET', 'path': '/api/auth/me'},
                    'type': 'auth',
                    'userId': '67fba9f74f1c85277f45'},
                   {'action': 'login',
                    'createdAt': '2025-04-13T12:11:36.173+00:00',
                    'id': '67fba9f82a30c856b052',
                    'ip': '148.101.59.104',
                    'message': 'User logged in: test_1744546292@example.com',
                    'metadata': {'email': 'test_1744546292@example.com'},
                    'type': 'auth',
                    'userId': '67fba9f74f1c85277f45'},
                   {'action': 'register',
                    'createdAt': '2025-04-13T12:11:35.568+00:00',
                    'id': '67fba9f789e60962bc77',
                    'message': 'User registered: test_1744546292@example.com',
                    'metadata': {'email': 'test_1744546292@example.com',
                                 'name': 'Test User'},
                    'type': 'auth',
                    'userId': '67fba9f74f1c85277f45'}]},
 'message': 'Logs retrieved successfully',
 'success': True}

================================================================================

TEST #9: GET /api/stats
--------------------------------------------------------------------------------
Timestamp: 2025-04-13T08:11:41.499894
Success: Yes
Status Code: 200

Response:
{'data': {'stats': {'activity': {'lastWeek': [{'actions': {},
                                               'date': '2025-04-07',
                                               'total': 0},
                                              {'actions': {},
                                               'date': '2025-04-08',
                                               'total': 0},
                                              {'actions': {},
                                               'date': '2025-04-09',
                                               'total': 0},
                                              {'actions': {},
                                               'date': '2025-04-10',
                                               'total': 0},
                                              {'actions': {},
                                               'date': '2025-04-11',
                                               'total': 0},
                                              {'actions': {},
                                               'date': '2025-04-12',
                                               'total': 0},
                                              {'actions': {'auth:login': 1,
                                                           'auth:register': 1,
                                                           'auth:view': 2,
                                                           'site:create': 2,
                                                           'site:list': 1,
                                                           'site:update': 2,
                                                           'site:view': 3,
                                                           'system:view': 2},
                                               'date': '2025-04-13',
                                               'total': 14}]},
                    'logs': {'total': 14},
                    'sites': {'total': 1},
                    'user': {'lastLogin': '2025-04-13T12:11:36.173+00:00'}}},
 'message': 'Estadísticas obtenidas exitosamente',
 'success': True}

================================================================================

TEST #10: GET /api/stats/user
--------------------------------------------------------------------------------
Timestamp: 2025-04-13T08:11:42.315507
Success: Yes
Status Code: 200

Response:
{'data': {'recentActivity': [{'action': 'view',
                              'id': '67fba9fded39540b73c2',
                              'message': 'User viewed personal statistics',
                              'timestamp': '2025-04-13T12:11:41.972+00:00',
                              'type': 'user'},
                             {'action': 'view',
                              'id': '67fba9fd7f815a71b41b',
                              'message': 'User viewed their statistics',
                              'timestamp': '2025-04-13T12:11:41.523+00:00',
                              'type': 'system'},
                             {'action': 'view',
                              'id': '67fba9fd31437137a03a',
                              'message': 'User viewed statistics',
                              'timestamp': '2025-04-13T12:11:41.202+00:00',
                              'type': 'system'},
                             {'action': 'view',
                              'id': '67fba9fc9c428c674590',
                              'message': 'User viewed logs with 12 results',
                              'timestamp': '2025-04-13T12:11:40.640+00:00',
                              'type': 'system'},
                             {'action': 'update',
                              'id': '67fba9fc03c9ed6abaeb',
                              'message': 'Updated site: Portfolio Testing Site '
                                         '(Updated)',
                              'timestamp': '2025-04-13T12:11:40.016+00:00',
                              'type': 'site'},
                             {'action': 'update',
                              'id': '67fba9fb9c0c351ee000',
                              'message': 'site: update',
                              'timestamp': '2025-04-13T12:11:39.639+00:00',
                              'type': 'site'},
                             {'action': 'view',
                              'id': '67fba9faede5a9f1db79',
                              'message': 'Viewed site: Portfolio Testing Site',
                              'timestamp': '2025-04-13T12:11:38.975+00:00',
                              'type': 'site'},
                             {'action': 'view',
                              'id': '67fba9fad39440afb794',
                              'message': 'site: view',
                              'timestamp': '2025-04-13T12:11:38.867+00:00',
                              'type': 'site'},
                             {'action': 'list',
                              'id': '67fba9fa48b12a4f8fe6',
                              'message': 'User viewed their sites',
                              'timestamp': '2025-04-13T12:11:38.298+00:00',
                              'type': 'site'},
                             {'action': 'view',
                              'id': '67fba9fa23be649cd3e7',
                              'message': 'site: view',
                              'timestamp': '2025-04-13T12:11:38.146+00:00',
                              'type': 'site'}],
          'stats': {'activityByType': {'auth': 4,
                                       'site': 8,
                                       'system': 3,
                                       'user': 1},
                    'logCount': 16,
                    'siteCount': 1},
          'user': {'email': ['test_1744546292@example.com'],
                   'id': '67fba9f74f1c85277f45',
                   'joinedAt': '2025-04-13T12:11:35.327+00:00',
                   'name': 'Test User'}},
 'status': 'success'}

================================================================================

TEST #11: GET /api/stats/activity
--------------------------------------------------------------------------------
Timestamp: 2025-04-13T08:11:42.847342
Success: Yes
Status Code: 200

Response:
{'data': {'distribution': [{'_id': 'site',
                            'actions': [{'action': 'create', 'count': 2},
                                        {'action': 'view', 'count': 3},
                                        {'action': 'list', 'count': 1},
                                        {'action': 'update', 'count': 2}],
                            'total': 8},
                           {'_id': 'auth',
                            'actions': [{'action': 'register', 'count': 1},
                                        {'action': 'login', 'count': 1},
                                        {'action': 'view', 'count': 2}],
                            'total': 4},
                           {'_id': 'system',
                            'actions': [{'action': 'view', 'count': 3}],
                            'total': 3},
                           {'_id': 'user',
                            'actions': [{'action': 'view', 'count': 1}],
                            'total': 1}]},
 'message': 'Distribución de actividad obtenida exitosamente',
 'success': True}

================================================================================

